In a <a href="http://juliensimon.blogspot.com/2008/12/howto-compiling-mediatomb.html">previous article</a>, I explained how to build <span style="font-style: italic;">mediatomb</span>, an open source media server able to stream music and video to UPnP devices, such as the Playstation 3. This build is based on the latest development source tree, so although the next official release (0.12) is still ahead of us, we can already take a look at some new features, namely:<br /><ul><li>improved on-the-fly transcoding.</li><li>built-in support for video thumbnails (using <span style="font-style: italic;">ffmpegthumbnailer</span>),</li><li>Apple movie trailers,</li><li>YouTube video feeds</li></ul>In this article, I'm going to demonstrate these features on my PS3 and I'm also going to explain how to set them up.<br /><br />FYI, I'm using Ubuntu 8.04, <span style="font-style: italic;">ffmpeg </span>SVN-r16245 (built from source),  <span style="font-style: italic;">ffmpegthumbnailer </span><span>1.3.0 (built from source) and</span><span style="font-style: italic;"> </span><span style="font-style: italic;">x264 </span>0.65.1057 (built from source).<br /><br /><span style="font-weight: bold;">1) Basic configuration</span><br /><br /><span style="font-style: italic;">mediatomb</span> only has one config file, located in <span style="font-style: italic;">~/.mediatomb/config.xml</span>. For more information, please check the <a href="http://mediatomb.cc/pages/documentation"><span style="font-style: italic;">mediatomb</span> documentation</a>.<br /><br />Let's start from the default settings and add a few things.<br /><br />In the &lt;<span style="font-style: italic;">server</span>&gt; section, set the extended UPnP protocol information for the PS3:<br /><pre>&lt;protocolInfo extend="yes"/&gt;</pre><span style="font-style: italic;">[Updated on 2009/01/02] Reportedly not needed anymore if you're running the latest PS3 firmware (2.53). Try changing it to 'no' if you're experiencing issues with movie playback.</span><br /><br />In the &lt;<span style="font-style: italic;">extension-mimetype</span>&gt; section, add a few entries to map common extensions for video files to the appropriate MIME type:<br /><pre>&lt;map from="avi" to="video/divx"/&gt;<br />&lt;map from="mkv" to="video/x-matroska"/&gt;<br />&lt;map from="mts" to="video/mpeg"/&gt;<br />&lt;map from="ts" to="video/mpeg"/&gt;<br />&lt;map from="m2ts" to="video/mpeg"/&gt;<br />&lt;map from="mov" to="video/x-quicktime"/&gt;<br />&lt;map from="vob" to="video/mpeg"/&gt;<br />&lt;map from="m4v" to="video/mp4"/&gt;<br /></pre>In the &lt;<span style="font-style: italic;">mimetype-contenttype</span>&gt; section, add a few entries to map MIME types to extensions, so that <span style="font-style: italic;">mediatomb</span> can use the proper method to extract metadata:<br /><pre>&lt;treat mimetype="video/quicktime" as="mov"/&gt;<br />&lt;treat mimetype="video/x-quicktime" as="mov"/&gt;<br /></pre><span style="font-weight: bold;">2) On-the-fly transcoding</span><br /><br />The PS3 supports a limited set of <a href="http://manuals.playstation.net/document/en/ps3/current/music/filetypes.html">audio</a> &amp; <a href="http://manuals.playstation.net/document/en/ps3/current/video/filetypes.html">video</a> file formats. For example, it can't play <span style="font-style: italic;">FLAC</span>, <span style="font-style: italic;">FLV</span>, <span style="font-style: italic;">Quicktime</span>, etc. In order to play these files anyway, we need <span style="font-style: italic;">mediatomb</span> to transcode them on the fly and then stream them to the PS3 in a format it can play. Transcoding itself is performed by external tools, such as <span style="font-style: italic;">VLC</span> and <span style="font-style: italic;">ffmpeg</span>.<br /><br />All we have to do is:<br /><ul><li>list all MIME types which require transcoding, </li><li>associate each of them to a transcoding profile,<br /></li><li>define the actual transcoding profiles.</li></ul>Here's the complete configuration I use:<br /><ul><li>for audio transcoding (<span style="font-style: italic;">OGG</span> and <span style="font-style: italic;">FLAC</span>), a profile based on <span style="font-style: italic;">ffmpeg</span>, which outputs 16-bit <span style="font-style: italic;">PCM</span> stereo audio at 44.1KHz and 192 Kbit/s,</li></ul><ul><li>for video transcoding (<span style="font-style: italic;">ASF</span>, <span style="font-style: italic;">FLV</span>, <span style="font-style: italic;">Quicktime</span>), a profile also based on <span style="font-style: italic;">ffmpeg</span>, which outputs <span style="font-style: italic;">MPEG-2</span> video at 25 fps and 4Mbit/s, as well as <span style="font-style: italic;">MPEG</span> stereo audio at at 44.1KHz and 192 Kbit/s.</li></ul><pre>&lt;transcoding enabled="yes"&gt;<br />&lt;mimetype-profile-mappings&gt;<br />&lt;transcode mimetype="application/ogg"   using="audio-generic"/&gt;<br />&lt;transcode mimetype="audio/x-flac"      using="audio-generic"/&gt;<br />&lt;transcode mimetype="video/x-ms-asf"    using="video-generic"/&gt;<br />&lt;transcode mimetype="video/x-flv"       using="video-generic"/&gt;<br />&lt;transcode mimetype="video/x-matroska"  using="video-generic"/&gt;<br />&lt;transcode mimetype="video/x-quicktime" using="video-generic"/&gt;<br />&lt;transcode mimetype="video/quicktime"   using="video-generic"/&gt;<br />&lt;/mimetype-profile-mappings&gt;<br /><br />&lt;profiles&gt;<br />&lt;profile name="audio-generic" enabled="yes" type="external" &gt;<br />&lt;mimetype&gt;audio/L16&lt;/mimetype&gt;<br />&lt;first-resource&gt;yes&lt;/first-resource&gt;<br />&lt;accept-url&gt;yes&lt;/accept-url&gt;<br />&lt;sample-frequency&gt;44100&lt;/sample-frequency&gt;<br />&lt;audio-channels&gt;2&lt;/audio-channels&gt;<br />&lt;hide-original-resource&gt;yes&lt;/hide-original-resource&gt;<br />&lt;agent command="ffmpeg" arguments="-ac 2 -ar 44100 -y -i %in -f s16be %out"/&gt;<br />&lt;buffer size="1048576" chunk-size="4096" fill-size="1024"/&gt;<br />&lt;/profile&gt;<br /><br />&lt;profile name="video-generic" enabled="yes" type="external"&gt;<br />&lt;avi-fourcc-list mode="ignore"&gt;<br />    &lt;fourcc&gt;DX50&lt;/fourcc&gt;<br />    &lt;fourcc&gt;DM4V&lt;/fourcc&gt;<br />    &lt;fourcc&gt;M4S2&lt;/fourcc&gt;<br />&lt;/avi-fourcc-list&gt;<br />&lt;mimetype&gt;video/mpeg&lt;/mimetype&gt;<br />&lt;accept-url&gt;yes&lt;/accept-url&gt;<br />&lt;first-resource&gt;yes&lt;/first-resource&gt;<br />&lt;hide-original-resource&gt;yes&lt;/hide-original-resource&gt;<br />&lt;accept-ogg-theora&gt;yes&lt;/accept-ogg-theora&gt;<br />&lt;agent command="/usr/local/bin/mediatomb-video-generic" arguments="%in %out"/&gt;<br />&lt;buffer size="1048576" chunk-size="26214" fill-size="52428"/&gt;<br />&lt;/profile&gt;<br />&lt;/profiles&gt;<br />&lt;/transcoding&gt;<br /></pre>Now, here's the '<span style="font-style: italic;">mediatomb-video-generic</span>' script. Don't forget to change the path to <span style="font-style: italic;">ffmpeg</span> if needed and to set execute rights ('<span style="font-style: italic;">chmod 755 /usr/local/bin/mediatomb-video-generic</span>'):<br /><br /><span style="font-style: italic;">[this updated script works for Youtube, Apple trailers and mkv files and doesn't require VLC anymore : thanks to the anonymous reader who contributed it].</span><br /><pre>#!/bin/bash<br />INPUT="$1"<br />OUTPUT="$2"<br />VIDEO_CODEC="mpeg2video"<br />VIDEO_BITRATE="4096k"<br />AUDIO_CODEC="mp2"<br />AUDIO_BITRATE="192k"<br />AUDIO_SAMPLERATE="48000"<br />AUDIO_CHANNELS="2"<br />FORMAT="dvd"<br /><br />exec /usr/local/bin/ffmpeg -threads 2 -i "${INPUT}" -vcodec ${VIDEO_CODEC} -b ${VIDEO_BITRATE} \<br />-acodec ${AUDIO_CODEC} -ab ${AUDIO_BITRATE} -ar ${AUDIO_SAMPLERATE} -ac ${AUDIO_CHANNELS} \<br />-f ${FORMAT} - > "${OUTPUT}" 2>/dev/null<br /></pre>All right, let's get to the good stuff.<br /><br /><span style="font-weight: bold;">3) Video thumbnails</span><br /><br />Assuming you have installed <span style="font-style: italic;">ffmpegthumbnailer</span>, enabling on-the-fly thumbnail generation only requires this addition to the &lt;<span style="font-style: italic;">server</span>&gt; section:<br /><pre>&lt;extended-runtime-options&gt;<br />&lt;ffmpegthumbnailer enabled="yes"&gt;<br />  &lt;thumbnail-size&gt;128&lt;/thumbnail-size&gt;<br />  &lt;seek-percentage&gt;5&lt;/seek-percentage&gt;<br />  &lt;filmstrip-overlay&gt;yes&lt;/filmstrip-overlay&gt;<br />  &lt;workaround-bugs&gt;no&lt;/workaround-bugs&gt;<br />&lt;/ffmpegthumbnailer&gt;<br />&lt;/extended-runtime-options&gt;<br /></pre>Let's save these changes, restart <span style="font-style: italic;">mediatomb</span> and browse some videos: <span style="font-style: italic;">MPEG-2</span> on the left, <span style="font-style: italic;">DivX</span> on the right. Thumbnails are generated on the fly when videos are browsed.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh54jfBx_XTv3gW5WPvcnpiQ9QFgfb1202HdFF7MdttOP3kOPH8daVHfx8E6BCi3F4e_RsnnOxps8s4UPmtlc0QrRUv20PrhzEuk-xRLsc6NmIvhek1yDoINpK2W8TGqzMrlpIhadNwi3g/s1600-h/mt-vid1.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh54jfBx_XTv3gW5WPvcnpiQ9QFgfb1202HdFF7MdttOP3kOPH8daVHfx8E6BCi3F4e_RsnnOxps8s4UPmtlc0QrRUv20PrhzEuk-xRLsc6NmIvhek1yDoINpK2W8TGqzMrlpIhadNwi3g/s400/mt-vid1.png" alt="" id="BLOGGER_PHOTO_ID_5283362373071661410" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5h_NpfD-fpul89wyP_E3nA53bbsot2TaqbFWTLuMdkPgHIaN9LuV1IoBLv9WfbR6tXPCF1pmJe0yFwVuZ5fDGCKsMVzugZkxX2At2tJJFfgb2fkUvRFdZeRYrjIqnlJGlZHdi6JEKTp8/s1600-h/mt-vid2.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5h_NpfD-fpul89wyP_E3nA53bbsot2TaqbFWTLuMdkPgHIaN9LuV1IoBLv9WfbR6tXPCF1pmJe0yFwVuZ5fDGCKsMVzugZkxX2At2tJJFfgb2fkUvRFdZeRYrjIqnlJGlZHdi6JEKTp8/s400/mt-vid2.png" alt="" id="BLOGGER_PHOTO_ID_5283362365005972242" border="0" /></a><br /><br />Let's try some different file types.<br /><ul><li>Below on the left: <span style="font-style: italic;">VOB</span> files ripped from a DVD. <span style="font-weight: bold;">VOB</span> files really are <span style="font-style: italic;">MPEG-2</span> files, but since they have a different extension, they wouldn't be viewable if we hadn't mapped the <span style="font-style: italic;">.vob </span>extension to the <span style="font-style: italic;">video/mpeg</span> MIME type.</li><li>Below on the right: some <span style="font-style: italic;">MKV</span> (Matroska) samples.<br /></li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg04Cg019O9IpL9SRNNykHimLe_T0hZ-SMfeEfoA_KubIjaDQ27AbFvVLOmTTrNQVNlxRCXieB4833xgFywN-z_W-V9NWw2cObtcOuiVZxjPKipnqgeNPa1n6OCMcfAASuR9GagmObrNXE/s1600-h/mt-vid3.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg04Cg019O9IpL9SRNNykHimLe_T0hZ-SMfeEfoA_KubIjaDQ27AbFvVLOmTTrNQVNlxRCXieB4833xgFywN-z_W-V9NWw2cObtcOuiVZxjPKipnqgeNPa1n6OCMcfAASuR9GagmObrNXE/s400/mt-vid3.png" alt="" id="BLOGGER_PHOTO_ID_5283362364336993970" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgg3TJKt1YSwYygoTPbcvcWMZidZinH9BMQwKj3v_Mf8Vuim3xQmEerow97ezFb5Z3NRTU0wGo1XdsXle9THNQzRtbBNuXAABsLuArtc7adY7wAQw-d-JJq6tIXzxCooEIkuN45_zLQ79c/s1600-h/mt-vid4.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgg3TJKt1YSwYygoTPbcvcWMZidZinH9BMQwKj3v_Mf8Vuim3xQmEerow97ezFb5Z3NRTU0wGo1XdsXle9THNQzRtbBNuXAABsLuArtc7adY7wAQw-d-JJq6tIXzxCooEIkuN45_zLQ79c/s400/mt-vid4.png" alt="" id="BLOGGER_PHOTO_ID_5283389939846124866" border="0" /></a><br /><br />This looks much nicer than blank icons :)<br /><br /><span style="font-weight: bold;">4) Apple movie trailers</span><br /><br />This feature, found in the <span style="font-style: italic;">Online Services</span> menu, allows you to view movies trailers hosted on an <a href="http://www.apple.com/trailers">Apple website</a>.<br /><br />This is very easy to configure. In the &lt;<span style="font-style: italic;">online-content</span>&gt; section, add:<br /><pre>&lt;AppleTrailers enabled="yes" refresh="43200" update-at-start="yes" resolution="640"/&gt;<br /></pre>Save the changes, restart <span style="font-style: italic;">mediatomb</span> and...<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiNsKASlYFeIP_uv9b1q6gkhkx5NCCZoLkMg8LfVPS7MEaF7MDz-bnTfODVy96deJQmJ9pSOJepySLIL7Gd0K34gP2koYZ06hfTu31bDleScbgoBxbMqkdRhy0N1FfD2K0mfEVXh6HuMJ0/s1600-h/mt-os1.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiNsKASlYFeIP_uv9b1q6gkhkx5NCCZoLkMg8LfVPS7MEaF7MDz-bnTfODVy96deJQmJ9pSOJepySLIL7Gd0K34gP2koYZ06hfTu31bDleScbgoBxbMqkdRhy0N1FfD2K0mfEVXh6HuMJ0/s400/mt-os1.png" alt="" id="BLOGGER_PHOTO_ID_5283354786454020322" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgasrogw3xh9UL4mdjjd0w1J6r4d4acOi-YYmOzTOlcDmE3JTqDqpTnHCDalUg-UYAZAtd9BTjkDQQ5udaOjo7r7r2wjW2Eyb1i2pJffY3_wjT-oi2CfUUcruH30cHoAy5MZSHvZlV7knY/s1600-h/mt-os2.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgasrogw3xh9UL4mdjjd0w1J6r4d4acOi-YYmOzTOlcDmE3JTqDqpTnHCDalUg-UYAZAtd9BTjkDQQ5udaOjo7r7r2wjW2Eyb1i2pJffY3_wjT-oi2CfUUcruH30cHoAy5MZSHvZlV7knY/s400/mt-os2.png" alt="" id="BLOGGER_PHOTO_ID_5283354789615758578" border="0" /></a><br /><br />It works like this. First, <span style="font-style: italic;">mediatomb</span> fetches an <a href="http://www.apple.com/trailers/home/xml/current.xml">RSS feed</a>, then it parses it and dynamically creates menus where trailers are sorted by genre, release date, etc. Let's go to action movies and hmmm... <span style="font-style: italic;">2012</span>? What is this?<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhzv6Jeqbk2HjI01RBEXIDvz-lQSwGWu5u8IxedJE4CB9EixfQcYAJK26IIQOYFX9ReGfw9XzM37VmvjC0BBuPLr5w_GPdAEJ3BY9WadC2pzL57YPhSWKOW95c-wthB0Bcbr0FOXOl8tm0/s1600-h/mt-apple1.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhzv6Jeqbk2HjI01RBEXIDvz-lQSwGWu5u8IxedJE4CB9EixfQcYAJK26IIQOYFX9ReGfw9XzM37VmvjC0BBuPLr5w_GPdAEJ3BY9WadC2pzL57YPhSWKOW95c-wthB0Bcbr0FOXOl8tm0/s400/mt-apple1.png" alt="" id="BLOGGER_PHOTO_ID_5283354799360699586" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhliK1XADAHxf9N7XEH5aZgASz_rd8tHNkc7dRzpU1ToGY7PWccXQMOwfo5bbJJPDpnimGYyBy8qJFK3YN5YE6eTWR0CODtxrEiDQMNX72naigTOhkYLscZp5dhm3Ajb4qOdxggFD3vGYI/s1600-h/mt-apple2.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhliK1XADAHxf9N7XEH5aZgASz_rd8tHNkc7dRzpU1ToGY7PWccXQMOwfo5bbJJPDpnimGYyBy8qJFK3YN5YE6eTWR0CODtxrEiDQMNX72naigTOhkYLscZp5dhm3Ajb4qOdxggFD3vGYI/s400/mt-apple2.png" alt="" id="BLOGGER_PHOTO_ID_5283354809209948178" border="0" /></a><br />Wow, the Himalaya overrun by a giant wave, the end of the world, etc. My kind of movie :)<br /><br /><div style="text-align: center;"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgF0vD7sQU9SjZ21PIMXO2z_J8w_1aTnpBRuzgdlYUPuKlIEOu81jcnf4v3zl4jlLGKweDWdXzKrymrl186sdS5MHfdT21XNvNCnazIvLH7xRwsUV_uhAax_oke8VTnTLP_IC53r8EfJzo/s1600-h/mt-apple3.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgF0vD7sQU9SjZ21PIMXO2z_J8w_1aTnpBRuzgdlYUPuKlIEOu81jcnf4v3zl4jlLGKweDWdXzKrymrl186sdS5MHfdT21XNvNCnazIvLH7xRwsUV_uhAax_oke8VTnTLP_IC53r8EfJzo/s400/mt-apple3.png" alt="" id="BLOGGER_PHOTO_ID_5283354811935695202" border="0" /></a><br /><br /><div style="text-align: left;">Come on, is this a cool feature or what?<br /></div></div><br /><span style="font-weight: bold;">5) YouTube videos<br /><br /></span>Now, let's go back to the <span style="font-style: italic;">Online Services</span> and enter the <span style="font-style: italic;">YouTube</span> menu. In the <span style="font-style: italic;">mediatomb</span> configuration file, we need to define:<br /><ol><li>a valid YouTube account (username and password),</li><li>the list of video feeds that we'd like to browse.</li></ol>So, in the &lt;<span style="font-style: italic;">accounts</span>&gt; section, add:<br /><pre>&lt;account user="your_YouTube_username" password="your_YouTube_password"/&gt;<br /></pre>And in the &amp;lt<span style="font-style: italic;">;online-content</span>&gt; section, add:<br /><pre>&lt;YouTube enabled="yes" refresh="28800" update-at-start="yes" purge-after="604800" racy-content="exclude"&gt;<br />&lt;favorites user="your_YouTube_username"/&gt;<br />&lt;playlists user="your_YouTube_username"/&gt;<br />&lt;uploads user="your_YouTube_username"/&gt;<br />&lt;standardfeed feed="most_viewed" time-range="today"/&gt;<br />&lt;standardfeed feed="top_rated" time-range="this_week"/&gt;<br />&lt;/YouTube&gt;<br /></pre>This is quite customizable, but no official documentation is out yet. A quick look at the code will give you some pointers, though ;)<br /><br />Save the changes, restart <span style="font-style: italic;">mediatomb</span> and now you can browse your YouTube playlists.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiVkhOGxWr-gvh8hABIPP0t9mnpXVwRiDTqJLAjVq3H7ZvOZv5D7YyIxQd2TcuheCfxmGY5Dz4OAiJyNhgwYW6iS8YPkqWiRUDhciTNyre48gJ6wDAl3P7ZccoMMgWds_fF0SQBVtmiphw/s1600-h/mt-yt1.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiVkhOGxWr-gvh8hABIPP0t9mnpXVwRiDTqJLAjVq3H7ZvOZv5D7YyIxQd2TcuheCfxmGY5Dz4OAiJyNhgwYW6iS8YPkqWiRUDhciTNyre48gJ6wDAl3P7ZccoMMgWds_fF0SQBVtmiphw/s400/mt-yt1.png" alt="" id="BLOGGER_PHOTO_ID_5283359116825061810" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5SM9LS7nOhaONpJJw-L5MV5e_t3gCjrm4i7NKgXH4sKifc-MaT_B1Teppn3vgSiyxuH7cLLvPZvF-kkMYW971kpeUf55lgW98S6ERCEg-i0SxdXNc4YaaFboV3HUGG_ppjHdm8B96p0Q/s1600-h/mt-yt2.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5SM9LS7nOhaONpJJw-L5MV5e_t3gCjrm4i7NKgXH4sKifc-MaT_B1Teppn3vgSiyxuH7cLLvPZvF-kkMYW971kpeUf55lgW98S6ERCEg-i0SxdXNc4YaaFboV3HUGG_ppjHdm8B96p0Q/s400/mt-yt2.png" alt="" id="BLOGGER_PHOTO_ID_5283359102919829330" border="0" /></a><br /><br />You can also browse the standard YouTube feeds that you have defined: <span style="font-style: italic;">Most Viewed</span>, <span style="font-style: italic;">Top Rated</span>, etc.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzcLeYtr9dl7Za7y-8nVu3w8rTUvcNYvZvZYvoAenGJ1yaMUxXirmvbZUE_QTD7zeR1ZiyKyD87l7pRF7ZtsAk4mUtVl8WpY9hS_QxGv1hjvm8iTd3TDMNx_lGtT_3D1HT-YhsF5juP20/s1600-h/mt-yt3.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzcLeYtr9dl7Za7y-8nVu3w8rTUvcNYvZvZYvoAenGJ1yaMUxXirmvbZUE_QTD7zeR1ZiyKyD87l7pRF7ZtsAk4mUtVl8WpY9hS_QxGv1hjvm8iTd3TDMNx_lGtT_3D1HT-YhsF5juP20/s400/mt-yt3.png" alt="" id="BLOGGER_PHOTO_ID_5283361205370284466" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQWgs-fDEy56d8xTRBISF1IhbV9Sw6bdFpza43VKj5nsHTTNcJeQbp7LUSci57jarrTpQP0UnhdCHODoL5UJn_gczD9beUfD5z7AV_fP0VDPD8dBWAwgPHUlHFEjzA5htsmwq0PM-Gfxk/s1600-h/mt-yt4.png"><img style="margin: 0pt 10px 10px 0pt; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQWgs-fDEy56d8xTRBISF1IhbV9Sw6bdFpza43VKj5nsHTTNcJeQbp7LUSci57jarrTpQP0UnhdCHODoL5UJn_gczD9beUfD5z7AV_fP0VDPD8dBWAwgPHUlHFEjzA5htsmwq0PM-Gfxk/s400/mt-yt4.png" alt="" id="BLOGGER_PHOTO_ID_5283361201961444594" border="0" /></a><br /><br />All right, that's it for today. Mediatomb is a GREAT project, I can't wait for the official release. In the meantime, there's already plenty to explore.<br /><br />And by the way, Merry Christmas to all you geeks out there ;)<br /><br />===================================<br /><br />As requested, here's my <span style="font-style: italic;">config.xml</span> file. You just change to change <span style="font-style: italic;">YouTube_Username</span>, <span style="font-style: italic;">YouTube_Password</span>, <span style="font-style: italic;">LastFM_Username</span> &amp; <span style="font-style: italic;">LastFM password</span> to your own values.<br /><pre><br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;config version="1" xmlns="http://mediatomb.cc/config/1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://mediatomb.cc/config/1 http://mediatomb.cc/config/1.xsd"&gt;<br /> &lt;server&gt;<br />   &lt;ui enabled="yes" show-tooltips="yes"&gt;<br />     &lt;accounts enabled="no" session-timeout="30"&gt;<br />       &lt;account user="YouTube_Username" password="YouTube_Password"/&gt;<br />     &lt;/accounts&gt;<br />   &lt;/ui&gt;<br />   &lt;name&gt;MediaTomb&lt;/name&gt;<br />   &lt;udn&gt;uuid:b8b13d59-378e-4cb8-9a87-14f70c70f847&lt;/udn&gt;<br />   &lt;home&gt;/home/julien/.mediatomb&lt;/home&gt;<br />   &lt;webroot&gt;/usr/local/share/mediatomb/web&lt;/webroot&gt;<br />   &lt;storage&gt;<br />     &lt;sqlite3 enabled="yes"&gt;<br />       &lt;database-file&gt;mediatomb.db&lt;/database-file&gt;<br />     &lt;/sqlite3&gt;<br />   &lt;/storage&gt;<br />   &lt;protocolInfo extend="yes"/&gt;&lt;!-- For PS3 support change to "yes" --&gt;<br />  <br />   &lt;extended-runtime-options&gt;<br />     &lt;ffmpegthumbnailer enabled="yes"&gt;<br />       &lt;thumbnail-size&gt;128&lt;/thumbnail-size&gt;<br />       &lt;seek-percentage&gt;5&lt;/seek-percentage&gt;<br />       &lt;filmstrip-overlay&gt;yes&lt;/filmstrip-overlay&gt;<br />       &lt;workaround-bugs&gt;no&lt;/workaround-bugs&gt;<br />     &lt;/ffmpegthumbnailer&gt;<br />     &lt;mark-played-items enabled="no" suppress-cds-updates="yes"&gt;<br />       &lt;string mode="prepend"&gt;*&lt;/string&gt;<br />     &lt;/mark-played-items&gt;<br />   &lt;/extended-runtime-options&gt;<br /><br /> &lt;/server&gt;<br /><br /> &lt;import hidden-files="no"&gt;<br />   &lt;scripting script-charset="UTF-8"&gt;<br />     &lt;common-script&gt;/usr/local/share/mediatomb/js/common.js&lt;/common-script&gt;<br />     &lt;playlist-script&gt;/usr/local/share/mediatomb/js/playlists.js&lt;/playlist-script&gt;<br />     &lt;virtual-layout type="builtin"&gt;<br />       &lt;import-script&gt;/usr/local/share/mediatomb/js/import.js&lt;/import-script&gt;<br />       &lt;dvd-script&gt;/usr/local/share/mediatomb/js/import-dvd.js&lt;/dvd-script&gt;<br />     &lt;/virtual-layout&gt;<br />   &lt;/scripting&gt;<br />   &lt;mappings&gt;<br />     &lt;extension-mimetype ignore-unknown="no"&gt;<br />       &lt;map from="mp3" to="audio/mpeg"/&gt;<br />       &lt;map from="ogg" to="application/ogg"/&gt;<br />       &lt;map from="asf" to="video/x-ms-asf"/&gt;<br />       &lt;map from="asx" to="video/x-ms-asf"/&gt;<br />       &lt;map from="wma" to="audio/x-ms-wma"/&gt;<br />       &lt;map from="wax" to="audio/x-ms-wax"/&gt;<br />       &lt;map from="wmv" to="video/x-ms-wmv"/&gt;<br />       &lt;map from="wvx" to="video/x-ms-wvx"/&gt;<br />       &lt;map from="wm" to="video/x-ms-wm"/&gt;<br />       &lt;map from="wmx" to="video/x-ms-wmx"/&gt;<br />       &lt;map from="m3u" to="audio/x-mpegurl"/&gt;<br />       &lt;map from="pls" to="audio/x-scpls"/&gt;<br />       &lt;map from="flv" to="video/x-flv"/&gt;<br />       &lt;map from="avi" to="video/divx"/&gt;<br /> &lt;map from="mkv" to="video/x-matroska"/&gt;<br /> &lt;map from="mts" to="video/mpeg"/&gt;<br /> &lt;map from="ts" to="video/mpeg"/&gt;<br /> &lt;map from="m2ts" to="video/mpeg"/&gt;<br /><br /> &lt;map from="flac" to="audio/x-flac"/&gt;<br /> &lt;map from="mov" to="video/x-quicktime"/&gt;<br /> &lt;map from="vob" to="video/mpeg"/&gt;<br /> &lt;map from="m4v" to="video/mp4"/&gt;<br /> &lt;map from="iso" to="application/x-iso9660-image"/&gt;<br /><br />     &lt;/extension-mimetype&gt;<br />     &lt;mimetype-upnpclass&gt;<br />       &lt;map from="audio/*" to="object.item.audioItem.musicTrack"/&gt;<br />       &lt;map from="video/*" to="object.item.videoItem"/&gt;<br />       &lt;map from="application/x-iso9660-image" to="object.item.videoItem"/&gt;<br />       &lt;map from="image/*" to="object.item.imageItem"/&gt;<br />     &lt;/mimetype-upnpclass&gt;<br />     &lt;mimetype-contenttype&gt;<br />       &lt;treat mimetype="audio/mpeg" as="mp3"/&gt;<br />       &lt;treat mimetype="application/ogg" as="ogg"/&gt;<br />       &lt;treat mimetype="audio/x-flac" as="flac"/&gt;<br />       &lt;treat mimetype="image/jpeg" as="jpg"/&gt;<br />       &lt;treat mimetype="audio/x-mpegurl" as="playlist"/&gt;<br />       &lt;treat mimetype="audio/x-scpls" as="playlist"/&gt;<br />       &lt;treat mimetype="audio/x-wav" as="pcm"/&gt;<br />       &lt;treat mimetype="video/x-msvideo" as="avi"/&gt;<br />       &lt;treat mimetype="video/divx" as="avi"/&gt;<br />       &lt;treat mimetype="video/mp4" as="mp4"/&gt;<br />       &lt;treat mimetype="audio/mp4" as="mp4"/&gt;<br /><br />       &lt;treat mimetype="video/quicktime" as="mov"/&gt;<br />       &lt;treat mimetype="video/x-quicktime" as="mov"/&gt;<br /><br />       &lt;treat mimetype="application/x-iso9660-image" as="dvd"/&gt;<br /><br />     &lt;/mimetype-contenttype&gt;<br />   &lt;/mappings&gt;<br />   &lt;online-content&gt;<br />     &lt;!-- Make sure to setup a transcoding profile for flv --&gt;<br />     &lt;YouTube enabled="yes" refresh="28800" update-at-start="yes" purge-after="604800" racy-content="exclude"&gt;<br />       &lt;favorites user="YouTube_Username"/&gt;<br />       &lt;playlists user="YouTube_Username"/&gt;<br />       &lt;uploads user="YouTube_Username"/&gt;<br />       &lt;standardfeed feed="most_viewed" time-range="today"/&gt;<br />       &lt;standardfeed feed="top_rated" time-range="this_week"/&gt;<br />     &lt;/YouTube&gt;<br />     &lt;AppleTrailers enabled="yes" refresh="43200" update-at-start="yes" resolution="640"/&gt;<br />   &lt;/online-content&gt;<br /> &lt;/import&gt;<br /><br /> &lt;transcoding enabled="yes"&gt;<br />   &lt;mimetype-profile-mappings&gt;<br /> &lt;transcode mimetype="application/ogg"   using="audio-generic"/&gt;<br /> &lt;transcode mimetype="audio/x-flac"      using="audio-generic"/&gt;<br /> &lt;transcode mimetype="video/x-ms-asf"    using="video-generic"/&gt;<br /> &lt;transcode mimetype="video/x-flv"       using="video-generic"/&gt;<br /> &lt;transcode mimetype="video/x-matroska"  using="video-generic"/&gt;<br /> &lt;transcode mimetype="video/x-quicktime" using="video-generic"/&gt;<br /> &lt;transcode mimetype="video/quicktime"   using="video-generic"/&gt;<br />   &lt;/mimetype-profile-mappings&gt;<br />   &lt;profiles&gt;<br /><br />      &lt;profile name="audio-generic" enabled="yes" type="external" &gt;<br />       &lt;mimetype&gt;audio/L16&lt;/mimetype&gt;<br />       &lt;first-resource&gt;yes&lt;/first-resource&gt;<br />       &lt;accept-url&gt;yes&lt;/accept-url&gt;<br />       &lt;sample-frequency&gt;44100&lt;/sample-frequency&gt;<br />       &lt;audio-channels&gt;2&lt;/audio-channels&gt;<br />       &lt;hide-original-resource&gt;yes&lt;/hide-original-resource&gt;<br />       &lt;agent command="ffmpeg" arguments="-ac 2 -ar 44100 -y -i %in -f s16be %out"/&gt;<br />       &lt;buffer size="1048576" chunk-size="4096" fill-size="1024"/&gt;<br />      &lt;/profile&gt;<br /><br />     &lt;profile name="video-generic" enabled="yes" type="external"&gt;<br />       &lt;avi-fourcc-list mode="ignore"&gt;<br />            &lt;fourcc&gt;DX50&lt;/fourcc&gt;<br />            &lt;fourcc&gt;DM4V&lt;/fourcc&gt;<br />            &lt;fourcc&gt;M4S2&lt;/fourcc&gt;<br />       &lt;/avi-fourcc-list&gt;<br />       &lt;mimetype&gt;video/mpeg&lt;/mimetype&gt;<br />       &lt;accept-url&gt;yes&lt;/accept-url&gt;<br />       &lt;first-resource&gt;yes&lt;/first-resource&gt;<br /> &lt;hide-original-resource&gt;yes&lt;/hide-original-resource&gt;<br />       &lt;accept-ogg-theora&gt;yes&lt;/accept-ogg-theora&gt;<br />       &lt;agent command="/usr/local/bin/mediatomb-video-generic" arguments="%in %out"/&gt;<br />       &lt;buffer size="1048576" chunk-size="26214" fill-size="52428"/&gt;<br />     &lt;/profile&gt;<br /><br />   &lt;/profiles&gt;<br /> &lt;/transcoding&gt;<br /> <br /> &lt;lastfm enabled="yes"&gt; <br /> &lt;username&gt;LastFM_Username&lt;/username&gt; <br /> &lt;password&gt;LastFM_Password&lt;/password&gt; <br /> &lt;/lastfm&gt; <br /><br />&lt;/config&gt;<br /></pre>
