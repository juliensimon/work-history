As you probably know (and as explained on <a href="http://en.wikipedia.org/wiki/Youtube#Video_quality">Wikipedia</a>), YouTube supports several video formats. Until then, <span style="font-style: italic;">mediatomb</span> could only stream standard videos based on the H.263 video codec, which required on-the-fly transcoding to be properly played on the Playstation 3. I showed you how to do this in <a href="http://juliensimon.blogspot.com/2008/12/mediatomb-012-on-ps3-video-thumbnails.html">this previous super-popular article</a> ;)<br /><br />But hey, things have changed and as of revision 1998, <span style="font-style: italic;">mediatomb</span> now supports the <span>H.264</span> format, which is natively played by the PS3. This means that we no longer need to transcode YouTube videos :)<br /><br />First of all, you need to check what revision you have:<br /><code><br />ubuntu% <span style="font-weight: bold;">cd src/mediatomb</span><br />ubuntu% s<span style="font-weight: bold;">vn info</span><br />Path: .<br />URL: https://svn.mediatomb.cc/svnroot/mediatomb/trunk/mediatomb<br />Repository Root: https://svn.mediatomb.cc/svnroot/mediatomb<br />Repository UUID: f010a08f-7000-0410-b1fc-cb24403df210<br /><span style="font-weight: bold;">Revision: 2018</span><br />Node Kind: directory<br />Schedule: normal<br />Last Changed Author: jin_eld<br />Last Changed Rev: 2018<br />Last Changed Date: 2009-01-22 19:42:33 +0100 (Thu, 22 Jan 2009)<br /></code><br />I'm all set, but if you have a revision older than 1998, you need to update your sources ('<span style="font-style: italic;">svn update</span>') and rebuild <span style="font-style: italic;">mediatomb</span>.<br /><br />Then, all it takes is changing the YouTube configuration in <span style="font-style: italic;">~/.mediatomb/config.xml</span>, from:<br /><code><br />&lt;YouTube enabled="yes" refresh="28800" update-at-start="yes" purge-after="604800" racy-content="exclude"&gt;<br /></code><br />to:<br /><code><br />&lt;YouTube enabled="yes" <span style="font-weight: bold;">format="mp4" hd="no"</span> refresh="28800" update-at-start="yes" purge-after="604800" racy-content="exclude"&gt;<br /></code><br />Although the videos will now be based on the H.264 codec, they will still have the <span style="font-style: italic;">.flv</span> extension, so you also need to remove any transcoding profile for <span style="font-style: italic;">flv</span> files, i.e. something similar to:<br /><code><br />&lt;transcode mimetype="video/x-flv"       using="video-generic"/&gt;<br /></code><br />Now, restart <span style="font-style: italic;">mediatomb</span> and browse your playlists. As you can see, the videos now appear as AVC (which is another name for H.264):<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgQZlkruq7XjpWUQftEOYgGgFuKHhOCssaDv5XK3r9P2DDwwrinlXVe-WfU1cDBI1zrlQC8KifbdGBeQoYqkIf2jStscP8mE_DUxtEc94A-NzGsd6i8Ib-3FJKhJv8szjjQe0PSqFS0J4s/s1600-h/mt1.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgQZlkruq7XjpWUQftEOYgGgFuKHhOCssaDv5XK3r9P2DDwwrinlXVe-WfU1cDBI1zrlQC8KifbdGBeQoYqkIf2jStscP8mE_DUxtEc94A-NzGsd6i8Ib-3FJKhJv8szjjQe0PSqFS0J4s/s400/mt1.jpg" alt="" id="BLOGGER_PHOTO_ID_5294550024880280066" border="0" /></a><br />This is confirmed by displaying the file properties during streaming: 128 Kbit/s stereo AAC audio and H.264 video :)<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhjrhMIfXuEBiMYuduLSjohxLMMjAwCQZteY8in0-UYwn6Vt1ibNZTZwGmqVVslWYZZM3EJx5J7x8-UfEp3ZLc3kyw8Xn2aDpU5Fr42SW9l_Gp_DFw17FvVuPCddhgYXrYmQyGXxFXhvVE/s1600-h/mt2.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 240px;" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhjrhMIfXuEBiMYuduLSjohxLMMjAwCQZteY8in0-UYwn6Vt1ibNZTZwGmqVVslWYZZM3EJx5J7x8-UfEp3ZLc3kyw8Xn2aDpU5Fr42SW9l_Gp_DFw17FvVuPCddhgYXrYmQyGXxFXhvVE/s400/mt2.jpg" alt="" id="BLOGGER_PHOTO_ID_5294550030855793426" border="0" /></a><br />Enjoy!
